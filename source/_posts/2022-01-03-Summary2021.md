---
layout: post
title: "2021年终总结"
date: 2022-01-03 23:48:13
categories: "杂谈散记"
tag: ["年终总结"]
---

又到了该写年终总结的时候。2021年可以说又是人生的一个转折点，或者说是把上一年的转~~~折给勾勒完成的过程。这一年虽然忙碌，但远没有前一年那么跌宕起伏。简而言之，前半年努力毕业逃离科研圈，后半年入职工作适应新环境。

<!-- more -->

大概去年被 Intel 录了之后有点儿飘，寒假期间核酸检测软件的重写方案被我完全独断地敲定了。现在看来，既没有好好 schedule，又空想了太多可能性造成了 overdesign，把新版弄成了一个几乎不可能完成的任务。在期间，所里老师提出一些新的小需求被我直接在旧版软件上进行 workaround，大需求则直接推到新版中。任务越垒越困难，结果寒假结束后还有大半没完成。

然而开学之后三周就即将迎来毕业论文的中期检查，可沉迷重写核酸软件的我几乎没有花时间在原定的课题上。眼看答辩的日子逐渐逼近，课题还一筹莫展，和几位同学探讨之后，本着早死早超生的精神，跟导师摊牌提出换题，打算直接换成核酸检测软件。导师沉吟许久，还是提到了论文学术性的问题，毕竟当初定课题时就有打算以这个软件作为课题，但那时就因为缺乏学术性不适合毕业论文而否决了。不过这次考虑到要扩展检测分析规则，需要内置一套 DSL，我就想着能不能硬凑一些 PL 相关的知识。导师对此不置可否，却说要不在前两章加一些生物知识。不过无论如何，既然原本的课题不可能在中期前达到标准了，换题这件事也就不得不敲定了。

中期检查结束之后，接下来的日子乏善可陈，基本上是不停地写代码看论文糊论文，经过若干个深夜与白天，砍掉了许多无所谓的功能，熬掉了不知多少头发，直到六月底才勉强踩线（其实已经有点超过 deadline 了）熬完。下午的答辩，早上9点才勉强弄完幻灯片，匆忙赶去研究所，半路上又发现论文没印够，又赶回去找打印店，最终错过了正常的答辩时间，顺延到了晚上场。因为缺乏休息和进食，也没有事前准备，答辩的时候甚至有点语无伦次。结局也不出意料地（非正式）延毕了一个月，好在这一个月毕业证是先发下来了，也允许我们离校改论文。不过除我外还有三位延毕的难兄难弟，据说因为咱们院想保住两年制硕士的制度，今年卡得比较严，全院（非正式）延毕率高达8%。所谓非正式延毕，就是赶在论文最终提交前让人再好好改改，卡着学位证不放而已。

7月2日毕业离校，7月5日入职，一毕业就马不停蹄地就赶往上海。为了避免出现找不到房子地窘境，6月中旬就到上海未雨绸缪提前订好了合租的房子。上班的第一个月，除了在家继续修缮论文之外，主要就是在各种培训，学习，以及搭环境中度过的。组里目前主要是做 [SOF](https://github.com/thesofproject)，围绕着音频固件和驱动展开，对我来说基本是完全陌生的领域。因此，manager 的想法是让我从 validation 和 CI 开始，熟悉整个项目后再慢慢过渡到驱动或固件的开发上去。这期间，在 manager 的建议下，还加入了公司的 toastmaster club，尽管我这半年下来也没去几次。同事们对我也都很友好，过着愉快的朝九晚五生活。

七月底把论文交了之后，开始正式干一些简单的 validation 工作，基本上就是分析 log 或者 bisect 之类的活。到八月中，才开始第一份比较正式的任务：为 [tplgtool](https://github.com/thesofproject/sof-test/blob/main/tools/tplgtool.py) 添加一个新的功能来显示各个 component 的 core。不过由于旧代码充斥着过多的 magic number 和一些冗余的意义不明的代码，因此我提出重写一份更合理的，manager 看了看原来的对此表示赞同。然而，由于我的重写需要给程序引入一个新的依赖——[Construct](http://construct.readthedocs.org/)——这是一个 breaking change，在经过和 reviewer 的一阵激情对线后，整个重写以及新功能到九月底才基本完成。而在业余时间，我又筹划着自己拿 Julia 仿制一个像 Construct 那样的包，于是又开了一个坑 [Constructs.jl](https://github.com/miRoox/Constructs.jl)。

十一假期父母说要来玩，还是自驾一路从湖南游到上海。大概是感受到某种紧迫性，我趁着九月下旬，尝试了一下心念念已久的激光脱毛，没有想象中那么痛，但也没有想象中那么立竿见影。而十一的第一天，则是去听了因疫情变化鸽了两次的幻奏盛宴/乐景。然而由于我没仔细看票，把17点误记成了7点，导致匆匆忙忙赶去听乐景的时候，已经演完半场多了，而演奏途中是不让进的，在外面等完了一套漫长的钢琴组曲才进去听了最后1/4场。经过一天短暂的休息，到3日又乘高铁去婺源与父母汇合，旅游路线为：婺源-宏村-乌镇-绍兴，基本上就是古镇、古镇、还是古镇，可这古镇除了外貌，基本也没啥古色古香的。唯一值得一提的是绍兴的“鲁镇社戏”，貌似实我迄今看过的唯一一次舞台剧，音画效果和舞台手法对我这个外行来说都挺有新意的。十一之后没多久，又有公司组织的鸟类保护活动，来崇明岛做了个鸟屋，然后拿着望远镜看鸟，可惜博物方面我实在是个大外行，除了鸭子好像啥也认不出来。

到十一月十二月，除了对之前 topology tool 增补一些新功能外，我们 CI 小分队筹划了一个巨大的 CI Refinement 计划——打算逐步重写原来那个臃肿难懂的 CI 系统。这是个比较长期的计划，直到现在也只能说初步完成了其中的第一步。这期间到也积累了不少原来不曾有过的合作开发同一个任务的经验。

如果是2020年是上一段人生的收尾，那2021年可以说是下一段人生的新起点。不过上班之后，从博客的更新量和开新坑的数目来看，业余时间显然更加咸鱼了。而今2022已经过去将近3天了，新的一年里还是希望自己能保持挖坑的热情和填坑的毅力吧。
